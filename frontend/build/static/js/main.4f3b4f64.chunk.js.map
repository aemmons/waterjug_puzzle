{"version":3,"sources":["index.js"],"names":["App","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","className","Board","React","Component","Form","Jug","props","classSize","bigSize","classes","concat","style","height","jugSize","Math","ceil","fill","transition","Warning","warning","Step","stepText","step","StepArrow","Path","path","length","idx","map","i","text","key","reduce","prev","curr","PlayBtn","_this","Object","_Users_ace_Documents_programming_flotech_waterjug_frontend_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_Users_ace_Documents_programming_flotech_waterjug_frontend_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Users_ace_Documents_programming_flotech_waterjug_frontend_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","state","playing","currentStep","_this2","setState","handleClick","then","hasPath","_this3","display","disabled","onClick","_this4","jugM","jugN","goal","dockerIP","_this5","url","fetch","crossDomain","response","json","data","status","payload","e","target","value","callback","_this6","Promise","resolve","reject","j","inter","setInterval","clearInterval","_this7","mBig","nBig","currStep","mFill","nFill","name","type","id","size","onChange","handleIPChange","handleJugMChange","handleJugNChange","handleGoalChange","clear","cb","handlePlayBtnClick","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4f3b4f64.chunk.js","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\n// NOTE: this IP may differ depending on docker-machine configuration\nclass App extends React.Component {\n    render() {\n        return (\n            <div className=\"app\">\n                <div className=\"header\">\n                    <h1>WaterJug Puzzle App</h1>\n                    <p>Enter sizes for Jugs M and N, and a Goal value then click `Find Path`!</p>\n                </div>\n                <Board />\n            </div>\n        )\n    }\n}\n\nclass Board extends React.Component {\n    render(){\n        return (\n            <div className=\"board\">\n            <Form />\n            </div>\n        )\n    }\n}\n\nfunction Jug(props){\n    var classSize = props.bigSize ? \"big\" : \"little\",\n        classes = `jug ${classSize}`;\n\n    var fillPerc = props.jugSize > 0 ? Math.ceil( (props.fill / props.jugSize) * 100) : 0;\n    var style = {\n        height: fillPerc + \"%\",\n        transition: \"height 250ms ease\"\n    }\n\n    return (\n        <div className={classes}>\n            <div className=\"waterContainer\">\n                <div className=\"water\" style={style}>\n                </div>\n                <div className=\"waterAmount\">{props.fill}</div>\n            </div>\n        </div>\n    )\n}\n\nfunction Warning(props) {\n    if(props.warning === true){\n        return (\n            <div className=\"warning\">\n                <span>No Path to Goal.</span>\n            </div>\n        )\n    } else {\n        return null;\n    }\n}\n\nfunction Step(props) {\n    return (\n        <div className=\"step\"><span>{props.stepText}</span><br /><span className=\"stepValue\">[ {props.step[0]}, {props.step[1]} ]</span></div>\n    )\n}\n\nfunction StepArrow(props) {\n    return (\n        <div className=\"stepArrow\"><span>âž¾</span></div>\n    )\n}\n\nfunction Path(props) {\n    if(props.path.length > 0) {\n        var idx = 0;\n        return (\n            <div className=\"path\">\n                <h3>PATH</h3>\n                {props.path\n                    .map( (step, i) => {\n                        idx = `stepArrow${i}`;\n                        return (\n                            <Step\n                                stepText = {step.text}\n                                step = {step.step}\n                                key = {i}\n                            />\n                        )\n                    })\n                    .reduce( (prev, curr) => [ prev, <StepArrow key={idx} />, curr])}\n            </div>\n        )\n    }\n    return null;\n}\n\nclass PlayBtn extends React.Component {\n\n    constructor(props){\n        super(props);\n\n        this.state = {\n            playing: false,\n            currentStep: null\n        };\n    }\n\n    handleClick() {\n        this.setState({playing: true})\n        this.props.handleClick( (step) => this.setState({currentStep: step}) )\n        .then( () => this.setState({playing: false, currentStep: null}) )\n    }\n\n    handleUpdate() {\n        this.setState({hasPath: true})\n    }\n\n    render() {\n        var style = this.props.hasPath ? {}: {display: \"none\"};\n        return (\n            <button disabled={this.state.playing} style={style} onClick={() => this.handleClick()}>Play {this.state.currentStep}</button>\n        )\n    }\n}\n\nclass Form extends React.Component {\n\n    constructor(props){\n        super(props);\n\n        this.state = {\n            jugM: 0,\n            jugN: 0,\n            goal: 0,\n            path: [],\n            warning: false,\n            currentStep: 0,\n            dockerIP: \"192.168.99.100\"\n        }\n    }\n\n  handleClick() {\n      var url = `http://${this.state.dockerIP}:5000/find-path`\n      return fetch(url + \"/\" + this.state.jugM + \"/\" + this.state.jugN + \"/\" + this.state.goal + \"/\",\n      {crossDomain: true})\n      .then( (response) => {\n          return response.json();\n      })\n      .then( (data) => {\n        if(data.status === \"success\"){\n            this.setState({warning: false, path: data.payload.path});\n        }else{\n            this.setState({warning: true, path: []});\n        }\n      });\n  }\n\n  handleJugMChange(e) {\n      this.setState({ jugM: e.target.value});\n  }\n\n  handleJugNChange(e) {\n      this.setState({ jugN: e.target.value});\n  }\n\n  handleGoalChange(e) {\n      this.setState({ goal: e.target.value});\n  }\n\n  handlePlayBtnClick( callback ) {\n        return new Promise( (resolve, reject) => {\n            var j = this.state.path.length - 1,\n                inter = null;\n            inter = setInterval( () => {\n                if(j > 0){\n                    this.setState({currentStep: this.state.currentStep+1})\n                    callback(this.state.currentStep)\n                    j--;\n                }else{\n                    clearInterval(inter)\n                    this.setState({currentStep: 0})\n                    callback(0)\n                    resolve();\n                }\n            }, 1000)\n        })\n  }\n\n  handleIPChange(e) {\n      /*\n      This is a very brittle hack to allow for custom IPs to be used. There is no validation or checking of IP.\n      */\n      this.setState({ dockerIP: e.target.value});\n  }\n\n  render() {\n    var mBig = this.state.jugM >= this.state.jugN;\n    var nBig = this.state.jugN >= this.state.jugM;\n\n    var currStep = this.state.path[this.state.currentStep] ? this.state.path[this.state.currentStep] : {step: [0,0], text: \"Start\"};\n    var mFill = currStep.step[0];\n    var nFill = currStep.step[1];\n\n    return (\n        <div className=\"form\">\n            <div className=\"dockerIP\">\n                <label name=\"dockerip\">DockerMachine IP</label>\n                <div><input type=\"text\" id=\"dockerip\" name=\"dockerip\" size=\"15\" value={this.state.dockerIP} onChange={ (e) => this.handleIPChange(e) }></input></div>\n            </div>\n\n            <div className=\"jugs\">\n                <div className=\"jugsCenter\">\n                    <Jug jugSize={this.state.jugM} bigSize={mBig} fill={mFill} />\n                    <Jug jugSize={this.state.jugN} bigSize={nBig} fill={nFill} />\n                </div>\n                <div className=\"jugText\">\n                    <span>{this.state.path.length > 0 ? currStep.text : null}</span>\n                </div>\n            </div>\n            <form>\n                <div className=\"formGroup\">\n                    <label name=\"jugM\">Jug M</label>\n                    <div><input type=\"text\" id=\"jugM\" name=\"jugM\" size=\"5\" value={this.state.jugM} onChange={ (e) => this.handleJugMChange(e) }></input></div>\n                </div>\n\n                <div className=\"formGroup\">\n                    <label name=\"jugN\">Jug N</label>\n                    <div><input type=\"text\" id=\"jugN\" name=\"jugN\" size=\"5\" value={this.state.jugN} onChange={ (e) => this.handleJugNChange(e) }></input></div>\n                </div>\n\n                <div className=\"formGroup\">\n                    <label name=\"goal\">Goal</label>\n                    <div><input type=\"text\" id=\"goal\" name=\"goal\" size=\"5\" value={this.state.goal} onChange={ (e) => this.handleGoalChange(e) }></input></div>\n                </div>\n\n                <div className=\"formGroup\">\n                    <button type=\"button\" className=\"querybutton\" onClick={ () => this.handleClick() }>\n                        Find Path\n                    </button>\n                </div>\n            </form>\n\n            <br clear=\"both\"/>\n\n            <Warning warning={this.state.warning} />\n\n            <PlayBtn hasPath={this.state.path.length > 0} handleClick={ (cb) => this.handlePlayBtnClick(cb) } currentStep={this.state.currentStep} />\n\n            <Path path={this.state.path} />\n        </div>\n    );\n  }\n}\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}